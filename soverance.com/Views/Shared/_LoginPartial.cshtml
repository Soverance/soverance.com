@using System.Security.Principal
@using System.Security.Claims

<section>
    <div class="row mt60 wow fadeInLeft">
        <div class="related-post">
            @if (User.Identity.IsAuthenticated)
            {
                var identity = User.Identity as ClaimsIdentity; // V2 specific
                string preferred_username = identity.Claims.FirstOrDefault(c => c.Type == "preferred_username")?.Value;
                <ul class="nav navbar-nav navbar-right">
                    <li class="navbar-text">Hello @preferred_username</li>
                    <li><a asp-area="" asp-controller="Account" asp-action="SignOut">Sign out</a></li>
                </ul>
            }

            else
            {
                <ul class="nav navbar-nav navbar-right">
                    <li><a asp-area="" asp-controller="Account" asp-action="Signin">Sign in</a></li>
                </ul>
            }
        </div>
    </div>
</section>
<!-- SECTION END -->


